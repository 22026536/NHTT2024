import{a as d,j as r,B as c,T as n,$ as g,K as _}from"./TextField-BtRiUif7.js";import{g as h,T as m,h as u,i as p,j as o,k as e,m as b,H as w}from"./admin-DadmEWhV.js";function D({orderId:a}){const[x,f]=d.useState(null),[l,y]=d.useState(null);if(d.useEffect(()=>{(async()=>{try{const t=await fetch(`/api/admin/orders/detail/${a}`);if(!t.ok)throw new Error("Failed to fetch order details");const j=await t.json();console.log(j),f(j)}catch(t){y(t.message)}})()},[a]),!x&&!l)return r.jsx(c,{sx:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"},children:r.jsx(n,{variant:"h6",children:"Đang tải dữ liệu..."})});if(l)return r.jsx(c,{sx:{p:4},children:r.jsxs(n,{variant:"h6",color:"error",children:["Lỗi: ",l]})});const{Ticket_Seat_Room:T,popcorn:v,order:i}=x;return r.jsxs(c,{sx:{p:4},children:[r.jsx(n,{variant:"h3",gutterBottom:!0,children:"Chi tiết đơn hàng"}),r.jsxs(c,{sx:{mb:3},children:[r.jsxs(n,{variant:"body1",children:[r.jsx("strong",{children:"Mã đơn hàng:"})," ",i[0].order_id]}),r.jsxs(n,{variant:"body1",children:[r.jsx("strong",{children:"Người đặt:"})," ",i[0].username]}),r.jsxs(n,{variant:"body1",children:[r.jsx("strong",{children:"Phim:"})," ",i[0].film_name]}),r.jsxs(n,{variant:"body1",children:[r.jsx("strong",{children:"Ngày chiếu:"})," ",new Date(i[0].show_date).toLocaleDateString()]}),r.jsxs(n,{variant:"body1",children:[r.jsx("strong",{children:"Tổng giá:"})," ",h(i[0].total_price)]}),r.jsxs(n,{variant:"body1",children:[r.jsx("strong",{children:"Ngày đặt:"})," ",new Date(i[0].order_date).toLocaleDateString()]})]}),r.jsx(n,{variant:"h3",gutterBottom:!0,children:"Thông tin vé"}),r.jsx(m,{component:g,sx:{mb:3},children:r.jsxs(u,{children:[r.jsx(p,{children:r.jsxs(o,{children:[r.jsx(e,{children:r.jsx("strong",{children:"Rạp"})}),r.jsx(e,{children:r.jsx("strong",{children:"Phòng"})}),r.jsx(e,{children:r.jsx("strong",{children:"Hàng ghế"})}),r.jsx(e,{children:r.jsx("strong",{children:"Số ghế"})}),r.jsx(e,{children:r.jsx("strong",{children:"Giá vé"})})]})}),r.jsx(b,{children:T.map((s,t)=>r.jsxs(o,{children:[r.jsx(e,{children:s.cinema_name}),r.jsx(e,{children:s.room_name}),r.jsx(e,{children:s.seat_row}),r.jsx(e,{children:s.seat_number}),r.jsx(e,{children:h(s.ticket_price)})]},t))})]})}),r.jsx(n,{variant:"h3",gutterBottom:!0,children:"Thông tin bắp nước"}),r.jsx(m,{component:g,children:r.jsxs(u,{children:[r.jsx(p,{children:r.jsxs(o,{children:[r.jsx(e,{children:r.jsx("strong",{children:"Combo"})}),r.jsx(e,{children:r.jsx("strong",{children:"Giá"})}),r.jsx(e,{children:r.jsx("strong",{children:"Số lượng"})})]})}),r.jsx(b,{children:v.map((s,t)=>r.jsxs(o,{children:[r.jsx(e,{children:s.combo_name}),r.jsx(e,{children:h(s.combo_price)}),r.jsx(e,{children:s.combo_quantity})]},t))})]})})]})}function C(){const{id:a}=_();return r.jsxs(r.Fragment,{children:[r.jsx(w,{children:r.jsxs("title",{children:[" ","Thông tin chi tiết đơn hàng | Trang quản trị website bán vé xem phim NHTT"]})}),r.jsx(D,{orderId:a})]})}export{C as default};
